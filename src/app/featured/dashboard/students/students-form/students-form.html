<mat-card>
  <mat-card-header>
    <mat-card-title>{{ isEditMode ? 'Editar Estudiante' : 'Crear Estudiante' }}</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="studentForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="firstName" placeholder="Ingrese el nombre" />
          @if (firstName?.invalid && (firstName?.dirty || firstName?.touched)) {
          <mat-error>
            @if (firstName?.hasError('required')) { El nombre es requerido } @if
            (firstName?.hasError('minlength')) { El nombre debe tener al menos 2 caracteres }
          </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Apellido</mat-label>
          <input matInput formControlName="lastName" placeholder="Ingrese el apellido" />
          @if (lastName?.invalid && (lastName?.dirty || lastName?.touched)) {
          <mat-error>
            @if (lastName?.hasError('required')) { El apellido es requerido } @if
            (lastName?.hasError('minlength')) { El apellido debe tener al menos 2 caracteres }
          </mat-error>
          }
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" placeholder="ejemplo@correo.com" />
          @if (email?.invalid && (email?.dirty || email?.touched)) {
          <mat-error>
            @if (email?.hasError('required')) { El email es requerido } @if
            (email?.hasError('email')) { Ingrese un email válido }
          </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Teléfono</mat-label>
          <input matInput formControlName="phone" placeholder="+54 11 1234-5678" />
          @if (phone?.invalid && (phone?.dirty || phone?.touched)) {
          <mat-error> @if (phone?.hasError('required')) { El teléfono es requerido } </mat-error>
          }
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Dirección</mat-label>
          <input
            matInput
            formControlName="address"
            placeholder="Av. Corrientes 1234, Buenos Aires"
          />
          @if (address?.invalid && (address?.dirty || address?.touched)) {
          <mat-error> @if (address?.hasError('required')) { La dirección es requerida } </mat-error>
          }
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Fecha de Nacimiento</mat-label>
          <input matInput type="date" formControlName="birthDate" />
          @if (birthDate?.invalid && (birthDate?.dirty || birthDate?.touched)) {
          <mat-error> La fecha de nacimiento es requerida </mat-error>
          }
        </mat-form-field>
      </div>

      <div class="form-actions">
        <button mat-raised-button type="button" (click)="onCancel()">Cancelar</button>
        <button mat-raised-button color="primary" type="submit" [disabled]="!studentForm.valid">
          {{ isEditMode ? 'Actualizar' : 'Crear' }}
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
